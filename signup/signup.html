<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./signup.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Sign Up</title>
</head>
<body>
    <div class="signup-container">
        <h2>Đăng kí</h2>
        <div class="form">
            <div class="input-group">
                <label for="username">Tên:</label>
                <input type="text" name="username" id="username" placeholder="Nhập tên" required />
            </div>
            <div class="input-group">
                <label for="email">Email:</label>
                <input type="text" name="email" id="email" placeholder="Nhập email" required />
            </div>
            <div class="input-group">
                <label for="password">Mật khẩu:</label>
                <input type="password" name="password" id="password" placeholder="*********" required />
            </div>
            <div class="input-group">
                <label for="retypepassword">Xác nhận lại mật khẩu:</label>
                <input type="password" name="retypepassword" id="retypepassword" placeholder="*********" required />
            </div>
            <button id="btnSignUp" class="btn btn-success">Sign Up</button>
            <a href="../login/login.html">Đã có tài khoản?</a>
        </div>
    </div>
    <header class="header">
        <img src="../Images/icon.png" alt="icon" width=50px>
        <div class="header-spans">
            <span><a class="header-span" href="../home/home.html">Home</a></span>
            <span><a class="header-span" href="#about">About</a></span>
            <span><a class="header-span" href="#services">Services</a></span>
            <span><a class="header-span" href="../contact/contact.html">Contact</a></span>
        </div>
    </header>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";
        const firebaseConfig = {
            apiKey: "AIzaSyCpOWvpr23H_bxtja_Q4r5xlVCPvy2XJmM",
            authDomain: "something-405b6.firebaseapp.com",
            projectId: "something-405b6",
            storageBucket: "something-405b6.firebasestorage.app",
            messagingSenderId: "50874984634",
            appId: "1:50874984634:web:d5156085b2a764baf47a83",
            measurementId: "G-CCCGP37GVT"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        
        
        const btnSignUp = document.getElementById('btnSignUp');
        const name = document.getElementById('name');
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        const retypepassword = document.getElementById('retypepassword');
        btnSignUp.addEventListener('click', handleSignup);
        function handleSignup() {
            if (password.value != retypepassword.value) {
                alert('Password and Confirm Password must be same');
                return;
            }
            createUserWithEmailAndPassword(auth, email.value, password.value)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log(user);
                })
                .catch((error) => {
                    const errorCode = error.code; 
                    const errorMessage = error.message;
                    console.log(errorCode, ": ", errorMessage);
                });
        }
        document.getElementById("home").addEventListener('click', function() {
            alert('Hãy đăng nhập để về trang chủ!')
        });
        document.getElementById("contact").addEventListener('click', function() {
            alert('Hãy đăng nhập để liên hệ!')
        });
    </script>
    
</body>
</html>